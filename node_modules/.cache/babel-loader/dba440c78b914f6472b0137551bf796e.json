{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dtzr/Documents/GitHub/birdex-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dtzr/Documents/GitHub/birdex-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dtzr/Documents/GitHub/birdex-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Nav from\"../components/Navbar/Nav\";import{Icon,Button,Modal,Input,Dropdown}from\"semantic-ui-react\";import\"./EntriesPageStyles.css\";import{useHistory}from\"react-router\";import{useDispatch,useSelector}from\"react-redux\";import{addWeights}from\"../feature/EntriesSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EntriesPage(_ref){var match=_ref.match;var allEntries=useSelector(function(state){return state.birds;});var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentEntries=_useState2[0],setcurrentEntries=_useState2[1];var dispatch=useDispatch();var ts=new Date();var history=useHistory();useEffect(function(){var getBirdEntries=function getBirdEntries(){allEntries.map(function(bird){if(bird.name===match.params.birdName&&bird.species===match.params.species_name){setcurrentEntries(bird.weights);}});};getBirdEntries();},[]);//State of modal that adds new entry\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),weightInput=_useState6[0],setWeight=_useState6[1];var currentDate=ts.toLocaleDateString(\"en-US\")+\" \"+ts.toLocaleTimeString(\"en-US\");//State of modal that updates entry\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open2=_useState8[0],setOpen2=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),newWeight=_useState10[0],setnewWeight=_useState10[1];//Function to add new entries\nvar newEntries=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(weightInput<=0){alert(\"Incorrect Weight Value!\");setWeight(0);}else{dispatch(addWeights({weight:weightInput,species_name:match.params.species_name,name:match.params.birdName}));console.log(currentEntries);// history.go(0);\n}case 1:case\"end\":return _context.stop();}}},_callee);}));return function newEntries(){return _ref2.apply(this,arguments);};}();var sendEntry=function sendEntry(){setOpen(false);newEntries();};// DISPLAYING ALL ENTRIES JSX\n//For the input field for weight\nvar options=[{key:\"integer\",text:\"integer\",value:\"integer\"},{key:\"decimals\",text:\"decimals\",value:\"decimals\"}];var table=function table(){return/*#__PURE__*/_jsxs(\"div\",{className:\"TableContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"HeaderContainer\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"TimeStamp\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Weight\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Edit\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"allEntriesContainer\",children:currentEntries===null||currentEntries===void 0?void 0:currentEntries.map(function(details,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"EntryContainer\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:details.created_at})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[details.weight,\"g\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Icon,{className:\"edit-button\",name:\"edit\",size:\"large\",color:\"green\",style:{cursor:\"pointer\"}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Icon,{className:\"delete-button\",name:\"delete\",size:\"large\",color:\"red\",style:{cursor:\"pointer\"}})})]},details.index);})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"EntriesContainer\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"EntriesWrapper\",children:/*#__PURE__*/_jsx(\"div\",{children:table()})}),/*#__PURE__*/_jsxs(Modal,{size:\"tiny\",onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/_jsx(Button,{className:\"showmodal--button\",children:\"Add New Entry\"}),children:[/*#__PURE__*/_jsx(Modal.Header,{children:\"Add New Entry\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsx(Modal.Description,{children:/*#__PURE__*/_jsx(Input,{label:/*#__PURE__*/_jsx(Dropdown,{defaultValue:\"int\",options:options}),labelPosition:\"right\",placeholder:\"Enter weight\",value:weightInput,onChange:function onChange(e){return setWeight(e.target.value);}})})}),/*#__PURE__*/_jsx(Modal.Actions,{children:/*#__PURE__*/_jsx(Button,{content:\"Add\",labelPosition:\"right\",icon:\"checkmark\",onClick:sendEntry,positive:true})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"tiny\",onClose:function onClose(){return setOpen2(false);},onOpen:function onOpen(){return setOpen2(true);},open:open2,children:[/*#__PURE__*/_jsx(Modal.Header,{children:\" Edit Entry\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsx(Modal.Description,{children:/*#__PURE__*/_jsx(Input,{label:/*#__PURE__*/_jsx(Dropdown,{defaultValue:\"int\",options:options}),labelPosition:\"right\",placeholder:\"Enter weight\",value:newWeight,onChange:function onChange(e){return setnewWeight(e.target.value);}})})}),/*#__PURE__*/_jsx(Modal.Actions,{children:/*#__PURE__*/_jsx(Button,{content:\"Add\",labelPosition:\"right\",icon:\"checkmark\",positive:true})})]}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return history.goBack();},content:\"Back\",icon:\"left arrow\",labelPosition:\"left\"})]});}export default EntriesPage;","map":{"version":3,"sources":["/Users/dtzr/Documents/GitHub/birdex-redux/src/pages/EntriesPage.js"],"names":["React","useEffect","useState","Nav","Icon","Button","Modal","Input","Dropdown","useHistory","useDispatch","useSelector","addWeights","EntriesPage","match","allEntries","state","birds","currentEntries","setcurrentEntries","dispatch","ts","Date","history","getBirdEntries","map","bird","name","params","birdName","species","species_name","weights","open","setOpen","weightInput","setWeight","currentDate","toLocaleDateString","toLocaleTimeString","open2","setOpen2","newWeight","setnewWeight","newEntries","alert","weight","console","log","sendEntry","options","key","text","value","table","details","index","created_at","cursor","e","target","goBack"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Nav from \"../components/Navbar/Nav\";\nimport { Icon, Button, Modal, Input, Dropdown } from \"semantic-ui-react\";\nimport \"./EntriesPageStyles.css\";\nimport { useHistory } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addWeights } from \"../feature/EntriesSlice\";\n\nfunction EntriesPage({ match }) {\n  const allEntries = useSelector((state) => state.birds);\n  const [currentEntries, setcurrentEntries] = useState();\n  const dispatch = useDispatch();\n\n  const ts = new Date();\n  const history = useHistory();\n\n  useEffect(() => {\n    const getBirdEntries = () => {\n      allEntries.map((bird) => {\n        if (\n          bird.name === match.params.birdName &&\n          bird.species === match.params.species_name\n        ) {\n          setcurrentEntries(bird.weights);\n        }\n      });\n    };\n\n    getBirdEntries();\n  }, []);\n\n  //State of modal that adds new entry\n  const [open, setOpen] = useState(false);\n  const [weightInput, setWeight] = useState(0);\n  const currentDate =\n    ts.toLocaleDateString(\"en-US\") + \" \" + ts.toLocaleTimeString(\"en-US\");\n\n  //State of modal that updates entry\n  const [open2, setOpen2] = useState(false);\n  const [newWeight, setnewWeight] = useState(\"\");\n\n  //Function to add new entries\n  const newEntries = async () => {\n    if (weightInput <= 0) {\n      alert(\"Incorrect Weight Value!\");\n      setWeight(0);\n    } else {\n      dispatch(\n        addWeights({\n          weight: weightInput,\n          species_name: match.params.species_name,\n          name: match.params.birdName,\n        })\n      );\n      console.log(currentEntries);\n      // history.go(0);\n    }\n  };\n\n  const sendEntry = () => {\n    setOpen(false);\n    newEntries();\n  };\n\n  // DISPLAYING ALL ENTRIES JSX\n\n  //For the input field for weight\n  const options = [\n    { key: \"integer\", text: \"integer\", value: \"integer\" },\n    { key: \"decimals\", text: \"decimals\", value: \"decimals\" },\n  ];\n\n  const table = () => {\n    return (\n      <div className=\"TableContainer\">\n        <div className=\"HeaderContainer\">\n          <div>\n            <p>TimeStamp</p>\n          </div>\n          <div>\n            <p>Weight</p>\n          </div>\n          <div>\n            <p>Edit</p>\n          </div>\n          <div>\n            <p>Delete</p>\n          </div>\n        </div>\n        <div className=\"allEntriesContainer\">\n          {currentEntries?.map((details, index) => {\n            return (\n              <div className=\"EntryContainer\" key={details.index}>\n                <div>\n                  <p>{details.created_at}</p>\n                </div>\n                <div>\n                  <p>{details.weight}g</p>\n                </div>\n                <div>\n                  <Icon\n                    className=\"edit-button\"\n                    name=\"edit\"\n                    size=\"large\"\n                    color=\"green\"\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </div>\n                <div>\n                  <Icon\n                    className=\"delete-button\"\n                    name=\"delete\"\n                    size=\"large\"\n                    color=\"red\"\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"EntriesContainer\">\n      <Nav />\n      <div className=\"EntriesWrapper\">\n        <div>{table()}</div>\n      </div>\n\n      {/* Modal To Add New Entry*/}\n      <Modal\n        size={\"tiny\"}\n        onClose={() => setOpen(false)}\n        onOpen={() => setOpen(true)}\n        open={open}\n        trigger={<Button className=\"showmodal--button\">Add New Entry</Button>}\n      >\n        <Modal.Header>Add New Entry</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <Input\n              label={<Dropdown defaultValue=\"int\" options={options} />}\n              labelPosition=\"right\"\n              placeholder=\"Enter weight\"\n              value={weightInput}\n              onChange={(e) => setWeight(e.target.value)}\n            />\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button\n            content=\"Add\"\n            labelPosition=\"right\"\n            icon=\"checkmark\"\n            onClick={sendEntry}\n            positive\n          />\n        </Modal.Actions>\n      </Modal>\n\n      {/* Modal To Update Entry */}\n      <Modal\n        size={\"tiny\"}\n        onClose={() => setOpen2(false)}\n        onOpen={() => setOpen2(true)}\n        open={open2}\n      >\n        <Modal.Header> Edit Entry</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <Input\n              label={<Dropdown defaultValue=\"int\" options={options} />}\n              labelPosition=\"right\"\n              placeholder=\"Enter weight\"\n              value={newWeight}\n              onChange={(e) => setnewWeight(e.target.value)}\n            />\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button\n            content=\"Add\"\n            labelPosition=\"right\"\n            icon=\"checkmark\"\n            positive\n          />\n        </Modal.Actions>\n      </Modal>\n\n      <Button\n        onClick={() => history.goBack()}\n        content=\"Back\"\n        icon=\"left arrow\"\n        labelPosition=\"left\"\n      />\n    </div>\n  );\n}\n\nexport default EntriesPage;\n"]},"metadata":{},"sourceType":"module"}