{"ast":null,"code":"import { createSlice, current } from \"@reduxjs/toolkit\"; //Show individual birds\n\nconst initialState = [{\n  id: 1,\n  species_id: 1,\n  name: \"Tom\",\n  sex: \"M\",\n  species: \"American Robin\",\n  // weights: [\n  //   {\n  //     weight: \"20\",\n  //     created_at: \"1/1/2000\",\n  //   },\n  //   {\n  //     weight: \"50\",\n  //     created_at: \"1/2/2000\",\n  //   },\n  //   {\n  //     weight: \"80\",\n  //     created_at: \"1/3/2000\",\n  //   },\n  // ],\n  img: \"https://www.allaboutbirds.org/guide/assets/photo/59858031-480px.jpg\"\n}, {\n  id: 2,\n  species_id: 1,\n  name: \"Mary\",\n  sex: \"M\",\n  species: \"American Robin\",\n  weights: [{\n    weight: \"20\",\n    created_at: \"1/1/2000\"\n  }],\n  img: \"https://www.allaboutbirds.org/guide/assets/photo/303441871-240px.jpg\"\n}, {\n  id: 3,\n  species_id: 1,\n  name: \"John\",\n  sex: \"M\",\n  species: \"American Robin\",\n  weights: [{\n    weight: \"20\",\n    created_at: \"1/1/2000\"\n  }],\n  img: \"https://www.allaboutbirds.org/guide/assets/photo/60412921-1280px.jpg\"\n}, {\n  id: 4,\n  species_id: 1,\n  name: \"Harry\",\n  sex: \"M\",\n  species: \"American Robin\",\n  weights: [{\n    weight: \"25\",\n    created_at: \"1/1/2000\"\n  }],\n  img: \"https://www.allaboutbirds.org/guide/assets/photo/60412941-240px.jpg\"\n}];\nconst entriesSlice = createSlice({\n  name: \"entries\",\n  initialState,\n  reducers: {\n    addWeights: (state = initialState, action) => {\n      console.log(action.payload);\n      const newWeight = {\n        weight: action.payload.weight.toString(),\n        created_at: new Date(Date.now()).toLocaleString().split(\",\")[0]\n      };\n      initialState.map(entry => {\n        if (action.payload.species_name == entry.species && action.payload.name == entry.name) {\n          let newArray = [];\n          entry.weights.forEach((weightsDict, index) => {\n            console.log(weightsDict, index);\n            newArray[index] = { ...weightsDict\n            };\n          });\n          newArray = [...newArray, newWeight];\n          entry.weights = newArray;\n        }\n      });\n    }\n  }\n});\nexport const {\n  addWeights\n} = entriesSlice.actions; //export posts reducer function so that it can be imported into store.js\n\nexport default entriesSlice.reducer;","map":{"version":3,"sources":["/Users/dtzr/Documents/GitHub/birdex-redux/src/feature/EntriesSlice.js"],"names":["createSlice","current","initialState","id","species_id","name","sex","species","img","weights","weight","created_at","entriesSlice","reducers","addWeights","state","action","console","log","payload","newWeight","toString","Date","now","toLocaleString","split","map","entry","species_name","newArray","forEach","weightsDict","index","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice, current } from \"@reduxjs/toolkit\";\n\n//Show individual birds\nconst initialState = [\n  {\n    id: 1,\n    species_id: 1,\n    name: \"Tom\",\n    sex: \"M\",\n    species: \"American Robin\",\n    // weights: [\n    //   {\n    //     weight: \"20\",\n    //     created_at: \"1/1/2000\",\n    //   },\n    //   {\n    //     weight: \"50\",\n    //     created_at: \"1/2/2000\",\n    //   },\n    //   {\n    //     weight: \"80\",\n    //     created_at: \"1/3/2000\",\n    //   },\n    // ],\n    img: \"https://www.allaboutbirds.org/guide/assets/photo/59858031-480px.jpg\",\n  },\n  {\n    id: 2,\n    species_id: 1,\n    name: \"Mary\",\n    sex: \"M\",\n    species: \"American Robin\",\n    weights: [\n      {\n        weight: \"20\",\n        created_at: \"1/1/2000\",\n      },\n    ],\n    img: \"https://www.allaboutbirds.org/guide/assets/photo/303441871-240px.jpg\",\n  },\n  {\n    id: 3,\n    species_id: 1,\n    name: \"John\",\n    sex: \"M\",\n    species: \"American Robin\",\n    weights: [\n      {\n        weight: \"20\",\n        created_at: \"1/1/2000\",\n      },\n    ],\n    img: \"https://www.allaboutbirds.org/guide/assets/photo/60412921-1280px.jpg\",\n  },\n  {\n    id: 4,\n    species_id: 1,\n    name: \"Harry\",\n    sex: \"M\",\n    species: \"American Robin\",\n    weights: [\n      {\n        weight: \"25\",\n        created_at: \"1/1/2000\",\n      },\n    ],\n    img: \"https://www.allaboutbirds.org/guide/assets/photo/60412941-240px.jpg\",\n  },\n];\n\nconst entriesSlice = createSlice({\n  name: \"entries\",\n  initialState,\n  reducers: {\n    addWeights: (state = initialState, action) => {\n      console.log(action.payload);\n      const newWeight = {\n        weight: action.payload.weight.toString(),\n        created_at: new Date(Date.now()).toLocaleString().split(\",\")[0],\n      };\n      initialState.map((entry) => {\n        if (\n          action.payload.species_name == entry.species &&\n          action.payload.name == entry.name\n        ) {\n          let newArray = [];\n          entry.weights.forEach((weightsDict, index) => {\n            console.log(weightsDict, index);\n            newArray[index] = { ...weightsDict };\n          });\n          newArray = [...newArray, newWeight];\n          entry.weights = newArray;\n        }\n      });\n    },\n  },\n});\n\nexport const { addWeights } = entriesSlice.actions;\n\n//export posts reducer function so that it can be imported into store.js\nexport default entriesSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}